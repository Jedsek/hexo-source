---
title: haskell-basic-p2-环境搭建
abbrlink: posts/haskell-basic/p2
hidden: false
date: 2022-06-25 21:57:14
top: 10998
tags: [Haskell]
keywords: [Haskell, 函数式]
---
> 首先, 我们得知道如何搭建 Haskell 的环境
<!-- more -->

同系列传送门: [haskell-basic](/categories/haskell-basic)

# 编译器 && 包管理
本文假设你使用的是Linux系统  

通过Linux发行版自带的包管理器, 下载 `haskell-platform` 来直接配置环境  
随后, 你会获得 `ghc`, `ghci`, `cabal`  

- `ghc`: Haskell 的编译器  
- `ghci`: 一个REPL, 即用于新手学习的交互式解释器  
- `cabal`: Hsakell的包管理器  

(注, 你也可以选择下载另一个叫 `stack` 的包管理器, 不过我选择了 `cabal`, 仅此而已)  

请确保能像下图所示, 正确显示版本:  
![](/images/haskell/version.png)

# 文本编辑

推荐的文本编辑器:
- Helix (强推)
- Nvim/Vim
- Vscode

如果你使用的是Vscode, 直接下载对应的Haskell插件  
如果你使用的是Vim/Helix, 要下载对应的Lsp: `haskell-language-server`  

比如, 我现在用的是Fedora-Linux, 可以这样下载Lsp:  

```bash
sudo dnf copr enable -y petersen/haskell-language-server
sudo dnf install -y haskell-language-server
```

# 换源
Haskell的包都放在 [hackage](https://hackage.haskell.org/), 下载依赖时, 速度可能极慢  
这时, 我们应该进行将其换成镜像源  

若你使用cabal, 可以按照下面的做:

```bash
cabal user-config init
sed -i 's/repository hackage.haskell.org/repository mirrors.ustc.edu.cn/g'  ~/.cabal/config
sed -i 's/http:\/\/hackage.haskell.org\//http:\/\/mirrors.ustc.edu.cn\/hackage\//g'  ~/.cabal/config
sed -i 's/-- secure: True/secure: True/g' ~/.cabal/config
cabal update
```

这会生成cabal的配置文件, 随后将url替换为中科大的源